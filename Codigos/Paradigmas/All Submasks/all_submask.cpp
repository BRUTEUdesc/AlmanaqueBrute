int mask;
for (int sub = mask; sub; sub = (sub - 1) & mask) { }
